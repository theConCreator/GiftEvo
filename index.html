<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Gift Evolution</title>
<style>
  html, body {
    margin: 0; padding: 0;
    height: 100%; width: 100%;
    overflow: hidden;
    display: flex; justify-content: center; align-items: center;
    background: radial-gradient(circle at center, #0a0a0a, #000);
    font-family: 'Inter', sans-serif; color: #fff;
  }
  .app-container {
    width: 420px; height: 720px;
    background: linear-gradient(180deg,#111,#1c1c1c);
    border-radius: 20px;
    box-shadow: 0 0 40px rgba(232,67,147,0.2);
    display: flex; flex-direction: column;
    overflow: hidden; position: relative;
  }
  .screen { flex:1; display:none; flex-direction:column; position:relative; padding:16px; }
  .screen.active { display:flex; }
  .top-bar {
    display:flex; justify-content:space-between; align-items:center;
    font-weight:600; font-size:18px; margin-bottom:8px;
  }
  .balance { background:rgba(255,255,255,0.1); padding:6px 10px; border-radius:10px; }
  .main-content {
    flex:1; display:flex; justify-content:space-between; align-items:flex-end; position:relative;
  }
  .gift-list {
    display:flex; flex-direction:column; gap:12px;
    align-items:flex-end; position:absolute; right:10px; bottom:100px;
  }
  .gift-slot {
    position:relative;
  }
  .gift-card {
    width:90px; height:90px;
    border-radius:14px;
    background:rgba(255,255,255,0.05);
    border:1px solid rgba(255,255,255,0.2);
    display:flex; justify-content:center; align-items:center;
    font-size:36px; cursor:pointer;
    transition:0.3s;
  }
  .gift-card.locked {
    opacity:0.5; cursor:default;
  }
  .gift-card.selected {
    border-color:#e84393; box-shadow:0 0 15px #e84393; transform:scale(1.05);
  }
  .buy-btn-small {
    position:absolute;
    bottom:-32px; right:0;
    width:100px; padding:5px;
    font-size:12px; border:none;
    border-radius:10px; background:#e84393;
    cursor:pointer; transition:0.3s;
  }
  .buy-btn-small:hover { background:#ff5fa3; }
  .effects-bar {
    display:flex; flex-wrap:wrap; gap:8px;
    position:absolute; bottom:60px; left:10px; width:240px;
  }
  .effect-card {
    flex:1 1 calc(50% - 8px);
    background:rgba(255,255,255,0.08);
    border:1px solid rgba(255,255,255,0.15);
    border-radius:12px; padding:8px;
    display:flex; justify-content:center; align-items:center;
    cursor:pointer; transition:0.25s;
    font-size:14px; font-weight:500; text-align:center;
  }
  .effect-card:hover { background:rgba(255,255,255,0.12); transform:translateY(-2px); }
  .effect-card.selected {
    border-color:#e84393; box-shadow:0 0 12px #e84393;
  }
  .combine-btn {
    position:absolute; bottom:10px; left:50%; transform:translateX(-50%);
    width:200px; padding:12px;
    font-size:18px; background:#e84393; border:none;
    border-radius:12px; cursor:pointer; transition:0.3s;
  }
  .combine-btn:disabled { opacity:0.5; cursor:not-allowed; }
  .bottom-nav {
    display:flex; justify-content:space-around;
    background:rgba(20,20,20,0.95);
    border-top:1px solid rgba(255,255,255,0.1);
  }
  .nav-btn {
    flex:1; text-align:center; padding:12px 0; color:#aaa; cursor:pointer;
    transition:0.3s; font-size:16px;
  }
  .nav-btn.active { color:#e84393; font-weight:600; }
  .fusion-overlay {
    position:fixed; inset:0; display:flex; justify-content:center; align-items:center;
    background:rgba(0,0,0,0.75); z-index:100;
  }
  .fusion-glow {
    position:absolute; width:400px; height:400px; border-radius:50%;
    filter:blur(100px); opacity:0.9;
    animation:pulse 1.3s ease-in-out infinite alternate;
  }
  @keyframes pulse {
    from{transform:scale(0.9); opacity:0.5;}
    to{transform:scale(1.1); opacity:1;}
  }
  .particle {
    position:absolute; width:8px; height:8px; border-radius:50%;
    animation:particle 1.5s forwards;
  }
  @keyframes particle {
    0%{transform:translate(0,0) scale(1);opacity:1;}
    100%{transform:translate(var(--x),var(--y)) scale(0.4);opacity:0;}
  }
  .result-modal {
    position:fixed; top:50%; left:50%;
    transform:translate(-50%,-50%);
    background:rgba(30,30,30,0.95);
    border:2px solid #e84393; border-radius:16px;
    padding:24px; text-align:center; z-index:101; width:260px;
    box-shadow:0 0 20px rgba(232,67,147,0.4);
    animation:pop 0.3s ease-out;
  }
  @keyframes pop {from{transform:translate(-50%,-50%) scale(0.8);opacity:0;} to{transform:translate(-50%,-50%) scale(1);opacity:1;}}
  .inventory-list {
    display:grid; grid-template-columns:repeat(2,1fr);
    gap:14px; padding:10px;
  }
  .inventory-card {
    background:rgba(255,255,255,0.05);
    border:1px solid rgba(255,255,255,0.2);
    border-radius:12px; padding:12px;
    text-align:center; display:flex; flex-direction:column; justify-content:center; align-items:center;
    transition:0.3s;
  }
  .inventory-card:hover { transform:scale(1.05); box-shadow:0 0 10px rgba(255,255,255,0.15);}
  .rarity { font-size:12px; opacity:0.7; }
</style>
</head>
<body>
<div id="root"></div>
<script src="https://unpkg.com/react@18/umd/react.development.js"></script>
<script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
<script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

<script type="text/babel">
const {useState,useEffect}=React;

const GIFT_MODELS=[
  {id:1,icon:"üéÅ"},
  {id:2,icon:"üéÄ"},
  {id:3,icon:"ü™Ñ"},
  {id:4,icon:"üß∏"},
  {id:5,icon:"üõçÔ∏è"}
];
const EFFECTS=[
  {name:"–û–≥–æ–Ω—å",icon:"üî•",price:75,color:"#ff4500"},
  {name:"–ú–æ–ª–Ω–∏—è",icon:"‚ö°",price:100,color:"#ffd700"},
  {name:"–ö—Ä–æ–≤—å",icon:"ü©∏",price:125,color:"#8b0000"},
  {name:"–ß—ë—Ä–Ω—ã–π",icon:"‚ö´",price:200,color:"#4b0082"},
  {name:"–ó–æ–ª–æ—Ç–æ",icon:"ü™ô",price:250,color:"#ffd700"},
  {name:"Pepe",icon:"üê∏",price:500,color:"#32cd32"},
];

function App(){
  const [screen,setScreen]=useState("main");
  const [inventory,setInventory]=useState([]);
  const [balance,setBalance]=useState(1000);
  const [selectedGift,setSelectedGift]=useState(null);
  const [selectedEffect,setSelectedEffect]=useState(null);
  const [fusionEffect,setFusionEffect]=useState(null);
  const [showFusion,setShowFusion]=useState(false);
  const [result,setResult]=useState(null);

  const handleBuyGift=(gift)=>{
    if(balance<100)return alert("–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –∑–≤—ë–∑–¥!");
    setBalance(b=>b-100);
    setInventory(prev=>[...prev,{model:gift.icon}]);
    alert("–í—ã –∫—É–ø–∏–ª–∏ –ø–æ–¥–∞—Ä–æ–∫!");
  }

  const handleCombine=()=>{
    if(!selectedGift||!selectedEffect)return;
    setFusionEffect(selectedEffect);
    setShowFusion(true);
    setTimeout(()=>{
      setShowFusion(false);
      const isRare=Math.random()<0.2;
      const giftResult={model:selectedGift.icon,effect:selectedEffect,rare:isRare};
      setResult(giftResult);
      setInventory(prev=>[...prev,giftResult]);
    },1800);
  }

  const closeResult=()=>setResult(null);

  return(
    <div className="app-container">
      <div className={`screen ${screen==="main"?"active":""}`}>
        <div className="top-bar">
          <div>Gift Evolution üéÅ</div>
          <div className="balance">‚≠ê {balance}</div>
        </div>
        <div className="main-content">
          <div className="effects-bar">
            {EFFECTS.map((e,i)=>(
              <div key={i} className={`effect-card ${selectedEffect===e?"selected":""}`} onClick={()=>setSelectedEffect(e)}>
                {e.icon} {e.name} {e.price}‚≠êÔ∏è
              </div>
            ))}
          </div>
          <div className="gift-list">
            {GIFT_MODELS.map((gift)=>
              <div key={gift.id} className="gift-slot">
                {inventory.find(g=>g.model===gift.icon)?
                  <div className={`gift-card ${selectedGift===gift?"selected":""}`} onClick={()=>setSelectedGift(gift)}>
                    {gift.icon}
                  </div>:
                  <>
                    <div className="gift-card locked">{gift.icon}</div>
                    <button className="buy-btn-small" onClick={()=>handleBuyGift(gift)}>–ö—É–ø–∏—Ç—å üéÅ 100‚≠ê</button>
                  </>
                }
              </div>
            )}
            <div className="gift-card locked" style={{opacity:0.3,fontSize:"14px"}}>Coming soon...</div>
          </div>
          <button className="combine-btn" disabled={!(selectedGift&&selectedEffect)} onClick={handleCombine}>
            –û–±—ä–µ–¥–∏–Ω–∏—Ç—å
          </button>
        </div>
      </div>

      <div className={`screen ${screen==="inventory"?"active":""}`}>
        <div className="top-bar">
          <div>üéí –ò–Ω–≤–µ–Ω—Ç–∞—Ä—å</div>
          <div className="balance">‚≠ê {balance}</div>
        </div>
        <div className="inventory-list">
          {inventory.length===0 && <p style={{opacity:0.7,textAlign:"center"}}>–ü–æ–∫–∞ –ø—É—Å—Ç–æ...</p>}
          {inventory.map((item,i)=>(
            <div key={i} className="inventory-card">
              <div style={{fontSize:"36px"}}>{item.model}{item.rare?"üíé":""}</div>
              {item.effect&&<div>{item.effect.icon} {item.effect.name}</div>}
              {item.effect&&<div className="rarity">{item.rare?"–†–µ–¥–∫–∏–π":"–û–±—ã—á–Ω—ã–π"}</div>}
            </div>
          ))}
        </div>
      </div>

      {showFusion&&fusionEffect&&<FusionOverlay effect={fusionEffect}/>}
      {result&&<ResultModal result={result} onClose={closeResult}/>}

      <div className="bottom-nav">
        <div className={`nav-btn ${screen==="main"?"active":""}`} onClick={()=>setScreen("main")}>–ì–ª–∞–≤–Ω–∞—è</div>
        <div className={`nav-btn ${screen==="inventory"?"active":""}`} onClick={()=>setScreen("inventory")}>–ò–Ω–≤–µ–Ω—Ç–∞—Ä—å</div>
      </div>
    </div>
  )
}

function FusionOverlay({effect}){
  const [particles,setParticles]=useState([]);
  useEffect(()=>{
    const arr=Array.from({length:40},()=>{
      const ang=Math.random()*2*Math.PI;
      const r=60+Math.random()*90;
      return {x:`${Math.cos(ang)*r}px`,y:`${Math.sin(ang)*r}px`,color:effect.color};
    });
    setParticles(arr);
  },[effect]);
  return(
    <div className="fusion-overlay" style={{background:`radial-gradient(circle, ${effect.color}22, #000)`}}>
      <div className="fusion-glow" style={{background:effect.color}}></div>
      {particles.map((p,i)=><div key={i} className="particle" style={{"--x":p.x,"--y":p.y,backgroundColor:p.color}}></div>)}
      <span style={{fontSize:"24px",fontWeight:"600"}}>‚ú® –û–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ {effect.icon} ‚ú®</span>
    </div>
  )
}

function ResultModal({result,onClose}){
  return(
    <div className="result-modal" onClick={onClose}>
      <div style={{fontSize:"48px"}}>{result.model}{result.rare?"üíé":""}</div>
      <h2>{result.effect.icon} {result.effect.name}</h2>
      <h3>{result.rare?"–†–µ–¥–∫–∏–π –ø–æ–¥–∞—Ä–æ–∫!":"–û–±—ã—á–Ω—ã–π –ø–æ–¥–∞—Ä–æ–∫"}</h3>
      <p style={{fontSize:"12px",opacity:0.7}}>–ù–∞–∂–º–∏—Ç–µ –¥–ª—è –∑–∞–∫—Ä—ã—Ç–∏—è</p>
    </div>
  )
}

ReactDOM.createRoot(document.getElementById("root")).render(<App/>);
</script>
</body>
</html>
