<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Minecraft Web App Game</title>
    <style>
        /* --- 1. –ë–∞–∑–æ–≤—ã–µ –°—Ç–∏–ª–∏ –∏ –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä --- */
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #1a1a1a; 
            color: white;
            display: flex;
            flex-direction: column;
            align-items: center;
            height: 100vh;
        }

        #game-container {
            width: 100%;
            max-width: 600px;
            height: calc(100vh - 120px); 
            overflow-y: scroll; 
            background-color: #2c2c2c;
            border-left: 2px solid #555;
            border-right: 2px solid #555;
            position: relative; 
            box-sizing: border-box;
            -webkit-overflow-scrolling: touch; 
        }

        /* --- 2. –°—Ç–∏–ª—å –ê—Ä–µ–Ω—ã –∏ –ë–ª–æ–∫–æ–≤ (50px) --- */
        #arena {
            display: grid;
            grid-template-columns: 1fr repeat(6, 50px) 1fr; 
            grid-auto-rows: 50px; 
            min-height: 100%; 
        }

        /* –ë–æ–∫–æ–≤—ã–µ —Å—Ç–µ–Ω—ã */
        .wall {
            background-color: #333;
            border: 1px solid #444;
            opacity: 0.9;
        }
        .wall.left { grid-column: 1 / 2; }
        .wall.right { grid-column: 8 / 9; }

        .block {
            width: 50px; 
            height: 50px; 
            border: 1px solid black;
            box-sizing: border-box;
            text-align: center;
            line-height: 48px; 
            font-size: 10px;
            font-weight: bold;
            color: #eee;
            box-shadow: inset 0 0 5px rgba(0, 0, 0, 0.4);
            transition: opacity 0.2s;
        }
        
        /* 7 –¢–ò–ü–û–í –ë–õ–û–ö–û–í */
        .block-dirt { background-color: #8b572a; border-color: #633e1e; }
        .block-stone { background-color: #808080; border-color: #5d5d5d; }
        .block-coal { background-color: #36454F; border-color: #2b363c; } 
        .block-iron { background-color: #C0C0C0; border-color: #a0a0a0; } 
        .block-gold { background-color: #FFD700; border-color: #ccac00; color: #1a1a1a; } 
        .block-diamond { background-color: #4682b4; border-color: #316089; box-shadow: inset 0 0 10px rgba(0, 255, 255, 0.7); } 
        .block-emerald { background-color: #50C878; border-color: #3a9757; } 
        
        .mined {
            opacity: 0 !important; 
            pointer-events: none; 
        }

        /* –ü—É—Å—Ç—ã–µ —Å—Ç–∞—Ä—Ç–æ–≤—ã–µ —Ä—è–¥—ã */
        .empty-row > div {
            background-color: transparent !important;
            border: none !important;
        }


        /* --- 3. –°—Ç–∏–ª—å –ö–∏—Ä–∫–∏ (–í—Ä–∞—â–µ–Ω–∏–µ) --- */
        #pickaxe {
            width: 40px; 
            height: 40px; 
            border-radius: 5px;
            position: absolute; 
            top: -100px; 
            left: 50%;
            transform: translate(-50%, 0); 
            box-shadow: 0 0 10px rgba(255, 255, 0, 0.5);
            display: none; 
            text-align: center;
            line-height: 40px;
            font-size: 20px; 
            z-index: 10;
            transition: box-shadow 0.1s;
        }

        /* 5 –¢–ò–ü–û–í –ö–ò–†–û–ö */
        .pickaxe-wood { background-color: #a0522d; }
        .pickaxe-stone { background-color: #999; }
        .pickaxe-iron { background-color: #C0C0C0; }
        .pickaxe-diamond { background-color: #00bcd4; box-shadow: 0 0 10px rgba(0, 255, 255, 0.7); }
        .pickaxe-netherite { background-color: #36454F; box-shadow: 0 0 15px rgba(255, 0, 0, 0.9); }
        
        /* --- 4. –≠–ª–µ–º–µ–Ω—Ç—ã –£–ø—Ä–∞–≤–ª–µ–Ω–∏—è --- */
        #controls {
            padding: 10px;
            width: 100%;
            max-width: 600px;
            background-color: #2b2b2b;
            text-align: center;
            position: fixed; 
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            box-shadow: 0 -5px 15px rgba(0, 0, 0, 0.5);
            box-sizing: border-box;
            z-index: 20;
        }

        .pickaxe-button {
            padding: 8px 12px; 
            margin: 5px 2px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: bold;
            color: white;
            transition: background-color 0.2s, transform 0.1s;
        }
        .pickaxe-button:active {
            transform: scale(0.98);
        }

        .pickaxe-button[data-type="wood"] { background-color: #9c5e3d; }
        .pickaxe-button[data-type="stone"] { background-color: #999; }
        .pickaxe-button[data-type="iron"] { background-color: #6a6a6a; }
        .pickaxe-button[data-type="diamond"] { background-color: #00bcd4; color: #1a1a1a; }
        .pickaxe-button[data-type="netherite"] { background-color: #36454F; color: #FFD700; border: 1px solid #FFD700; }
        
        #message {
            margin-top: 5px;
            min-height: 20px;
            font-size: 14px;
        }
    </style>
</head>
<body>

    <div id="game-container">
        <div id="pickaxe">‚õèÔ∏è</div> 
        
        <div id="arena">
            </div>
    </div>

    <div id="controls">
        <h3>üí∞ –ë–∞–ª–∞–Ω—Å: <span id="balance">10000</span></h3>
        <p>–ö—É–ø–∏—Ç–µ –∫–∏—Ä–∫—É:</p>
        <button class="pickaxe-button" data-type="wood" data-price="100">–î–µ—Ä–µ–≤–æ (100)</button>
        <button class="pickaxe-button" data-type="stone" data-price="300">–ö–∞–º–µ–Ω—å (300)</button>
        <button class="pickaxe-button" data-type="iron" data-price="800">–ñ–µ–ª–µ–∑–æ (800)</button>
        <button class="pickaxe-button" data-type="diamond" data-price="2500">–ê–ª–º–∞–∑ (2500)</button>
        <button class="pickaxe-button" data-type="netherite" data-price="5000">–ù–µ–∑–µ—Ä–∏—Ç (5000)</button>
        <p id="message">–í—ã–±–µ—Ä–∏—Ç–µ –∫–∏—Ä–∫—É, —á—Ç–æ–±—ã –Ω–∞—á–∞—Ç—å!</p>
    </div>
    
    <script>
        // --- 1. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∏ –ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã ---
        const Telegram = window.Telegram ? window.Telegram.WebApp : null;
        if (Telegram) Telegram.ready();
        
        const ARENA_WIDTH_BLOCKS = 6;
        const BLOCK_SIZE_PX = 50; 
        const PICKAXE_SIZE_PX = 40; 
        const WALL_WIDTH_PX = 30; 
        const GAME_WIDTH_PX = (ARENA_WIDTH_BLOCKS * BLOCK_SIZE_PX) + (2 * WALL_WIDTH_PX);

        const arena = document.getElementById('arena');
        const pickaxeElement = document.getElementById('pickaxe');
        const balanceElement = document.getElementById('balance');
        const messageElement = document.getElementById('message');
        const gameContainer = document.getElementById('game-container');
        
        // –§–∏–∑–∏–∫–∞
        const GRAVITY = 0.98; 
        const INITIAL_SPEED_MAX = 12; 
        const WALL_BOUNCE = 0.8; 
        const BLOCK_BOUNCE = 0.6; // –£–í–ï–õ–ò–ß–ï–ù–ù–´–ô –û–¢–°–ö–û–ö
        
        // –ö–∞–º–µ—Ä–∞ –∏ –ì–µ–Ω–µ—Ä–∞—Ü–∏—è
        const CAMERA_SMOOTHNESS = 0.04; 
        const CAMERA_OFFSET_Y = 0.35; 
        const ROWS_TO_GENERATE_AT_ONCE = 20; 
        const LOAD_TRIGGER_DISTANCE = 500; 
        const EMPTY_START_ROWS = 10; // –ù–û–í–´–ï –ü–£–°–¢–´–ï –†–Ø–î–´ –í–í–ï–†–•–£
        const INITIAL_MINING_ROWS = 15; // –°–∫–æ–ª—å–∫–æ —Ä—è–¥–æ–≤ —Å –±–ª–æ–∫–∞–º–∏ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ–º —Å–Ω–∞—á–∞–ª–∞
        
        let playerBalance = 10000; 
        let activePickaxe = null; 
        let lastTime = 0;
        let totalRows = 0; 
        
        // --- 2. –°–í–û–ô–°–¢–í–ê –ö–ò–†–û–ö –ò –ë–õ–û–ö–û–í (–ù–û–í–´–ï –î–ê–ù–ù–´–ï) ---

        const PICKAXE_PROPERTIES = {
            wood: { durability: 0.30, strength: 1, name: '–î–µ—Ä–µ–≤—è–Ω–Ω–∞—è' }, // 30% —à–∞–Ω—Å —Å–ª–æ–º–∞—Ç—å—Å—è
            stone: { durability: 0.25, strength: 2, name: '–ö–∞–º–µ–Ω–Ω–∞—è' }, // 25% —à–∞–Ω—Å —Å–ª–æ–º–∞—Ç—å—Å—è
            iron: { durability: 0.15, strength: 4, name: '–ñ–µ–ª–µ–∑–Ω–∞—è' },  // 15% —à–∞–Ω—Å —Å–ª–æ–º–∞—Ç—å—Å—è
            diamond: { durability: 0.05, strength: 8, name: '–ê–ª–º–∞–∑–Ω–∞—è' },// 5% —à–∞–Ω—Å —Å–ª–æ–º–∞—Ç—å—Å—è
            netherite: { durability: 0.00, strength: 15, name: '–ù–µ–∑–µ—Ä–∏—Ç–æ–≤–∞—è' }// 0% —à–∞–Ω—Å —Å–ª–æ–º–∞—Ç—å—Å—è
        };

        const BLOCK_PROPERTIES = {
            dirt: { toughness: 1, reward: 5, name: '–ì—Ä—è–∑—å' },
            stone: { toughness: 2, reward: 10, name: '–ö–∞–º–µ–Ω—å' },
            coal: { toughness: 4, reward: 30, name: '–£–≥–æ–ª—å' },
            iron: { toughness: 6, reward: 80, name: '–ñ–µ–ª–µ–∑–æ' },
            gold: { toughness: 8, reward: 150, name: '–ó–æ–ª–æ—Ç–æ' },
            diamond: { toughness: 12, reward: 500, name: '–ê–ª–º–∞–∑' },
            emerald: { toughness: 15, reward: 1000, name: '–ò–∑—É–º—Ä—É–¥' }
        };

        // --- 3. –ö–ª–∞—Å—Å –ö–∏—Ä–∫–∏ (–§–∏–∑–∏—á–µ—Å–∫–∞—è –º–æ–¥–µ–ª—å —Å –≤—Ä–∞—â–µ–Ω–∏–µ–º) ---
        class Pickaxe {
            constructor(type) {
                this.type = type;
                this.stats = PICKAXE_PROPERTIES[type];
                this.element = pickaxeElement;
                this.width = PICKAXE_SIZE_PX;
                this.height = PICKAXE_SIZE_PX;
                
                // –ü–æ–∑–∏—Ü–∏—è
                const arenaInnerWidth = GAME_WIDTH_PX - 2 * WALL_WIDTH_PX - this.width;
                this.x = WALL_WIDTH_PX + (Math.random() * arenaInnerWidth);
                this.y = gameContainer.scrollTop - PICKAXE_SIZE_PX; 
                
                // –°–∫–æ—Ä–æ—Å—Ç—å –∏ –í—Ä–∞—â–µ–Ω–∏–µ
                this.vx = (Math.random() * INITIAL_SPEED_MAX * 2) - INITIAL_SPEED_MAX; 
                this.vy = -(Math.random() * INITIAL_SPEED_MAX / 2); 
                this.rotation = 0; 
                this.vRotation = (Math.random() * 0.4) - 0.2; 
                this.isBroken = false;
                
                this.element.className = `pickaxe-placeholder pickaxe-${type}`;
                this.element.style.display = 'block';
                this.updateDOM();
            }

            updateDOM() {
                this.element.style.left = `${this.x}px`;
                this.element.style.top = `${this.y}px`;
                this.element.style.transform = `translate(-50%, 0) rotate(${this.rotation}deg)`;
            }

            update(deltaTime) {
                if (this.isBroken) return false;
                
                this.vy += GRAVITY * deltaTime; 
                this.x += this.vx * deltaTime;
                this.y += this.vy * deltaTime;
                this.rotation += this.vRotation * deltaTime * 5; 
                this.vRotation *= 0.999; 
                
                // –ö–æ–ª–ª–∏–∑–∏—è —Å–æ —Å—Ç–µ–Ω–∞–º–∏
                const minX = WALL_WIDTH_PX;
                const maxX = GAME_WIDTH_PX - WALL_WIDTH_PX - this.width;

                if (this.x < minX || this.x > maxX) {
                    this.x = this.x < minX ? minX : maxX;
                    this.vx *= -WALL_BOUNCE; 
                    this.vRotation = (Math.random() * 0.4) - 0.2; 
                }
                
                // –ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ–µ —Ç—Ä–µ–Ω–∏–µ
                this.vx *= 0.995; 
                
                // –ö–æ–ª–ª–∏–∑–∏—è —Å –±–ª–æ–∫–∞–º–∏
                if (this.y + this.height > 0) { 
                    const blockHit = this.checkCollisionWithBlocks();
                    if (blockHit) {
                        this.handleHit(blockHit);
                    }
                }
                
                this.updateDOM();
                
                // –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ –ø–æ–ª–µ—Ç–∞
                if (this.y > gameContainer.scrollTop + gameContainer.clientHeight + 300) {
                    return false;
                }
                
                return true; 
            }
            
            checkCollisionWithBlocks() {
                const relativeX = this.x - WALL_WIDTH_PX + (this.width / 2);
                const colIndex = Math.floor(relativeX / BLOCK_SIZE_PX);
                const rowIndex = Math.floor((this.y + this.height) / BLOCK_SIZE_PX); 

                const blockElement = arena.querySelector(`[data-row="${rowIndex}"][data-col="${colIndex}"]`);

                if (blockElement && !blockElement.classList.contains('mined')) {
                    const blockRect = blockElement.getBoundingClientRect();
                    const containerRect = gameContainer.getBoundingClientRect();
                    const blockY = blockRect.top - containerRect.top + gameContainer.scrollTop; 
                    
                    if (this.y + this.height > blockY) {
                         return blockElement;
                    }
                }
                return null;
            }

            handleHit(blockElement) {
                const blockType = blockElement.dataset.type;
                const blockStats = BLOCK_PROPERTIES[blockType];

                // 1. –†–∞—Å—á–µ—Ç –ø—Ä–æ—á–Ω–æ—Å—Ç–∏
                const hitPower = this.stats.strength; // –°–∏–ª–∞ –∫–∏—Ä–∫–∏
                const toughness = blockStats.toughness; // –ü—Ä–æ—á–Ω–æ—Å—Ç—å –±–ª–æ–∫–∞
                const miningChance = hitPower / toughness; // –ß–µ–º –≤—ã—à–µ, —Ç–µ–º –≤—ã—à–µ —à–∞–Ω—Å —Å–ª–æ–º–∞—Ç—å
                
                let mined = false;
                
                // –ù–∞ –±—ç–∫–µ–Ω–¥–µ –±—É–¥–µ—Ç —Å–ª–æ–∂–Ω–µ–µ, —Ç—É—Ç –ø—Ä–æ—Å—Ç–∞—è —Å–∏–º—É–ª—è—Ü–∏—è —à–∞–Ω—Å–∞
                if (Math.random() < miningChance * 0.2) { // –®–∞–Ω—Å (—Å–∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω –¥–ª—è —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞)
                    mined = true;
                }

                if (mined) {
                    blockElement.classList.add('mined');
                    const reward = blockStats.reward;
                    playerBalance += reward;
                    balanceElement.textContent = playerBalance;
                    messageElement.textContent = `‚úÖ –°–õ–û–ú–ê–ù–û! +${reward} (${blockStats.name})`;
                } else {
                    messageElement.textContent = `üí• –ö–∏—Ä–∫–∞ —É–¥–∞—Ä–∏–ª–∞ ${blockStats.name}. –ü—Ä–æ—á–Ω–æ—Å—Ç—å: ${toughness}.`;
                }

                // 2. –†–∞—Å—á–µ—Ç –ø–æ–ª–æ–º–∫–∏ –∫–∏—Ä–∫–∏
                if (Math.random() < this.stats.durability) {
                    this.isBroken = true;
                    messageElement.textContent += ` üíî ${this.stats.name} —Å–ª–æ–º–∞–ª–∞—Å—å!`;
                }

                // –û—Ç—Å–∫–æ–∫
                this.vy = -this.vy * BLOCK_BOUNCE; 
                this.vx *= 0.9; 
                this.vRotation = (Math.random() * 0.8) - 0.4; 
            }
        }
        
        // --- 4. –ò–≥—Ä–æ–≤–æ–π –¶–∏–∫–ª, –ö–∞–º–µ—Ä–∞ –∏ –ì–µ–Ω–µ—Ä–∞—Ü–∏—è ---

        function smoothCameraFollow() {
            if (!activePickaxe) return;

            const targetY = activePickaxe.y;
            const containerHeight = gameContainer.clientHeight;
            
            const targetScrollTop = targetY - (containerHeight * CAMERA_OFFSET_Y);
            
            const currentScrollTop = gameContainer.scrollTop;
            const delta = targetScrollTop - currentScrollTop;
            
            const newScrollTop = currentScrollTop + (delta * CAMERA_SMOOTHNESS);
            
            gameContainer.scrollTop = newScrollTop;
        }

        function checkAndGenerateNewRows() {
            const arenaHeight = totalRows * BLOCK_SIZE_PX;
            const scrollBottom = gameContainer.scrollTop + gameContainer.clientHeight;
            
            if (scrollBottom + LOAD_TRIGGER_DISTANCE > arenaHeight) {
                generateRows(totalRows, ROWS_TO_GENERATE_AT_ONCE);
            }
        }
        
        function gameLoop(currentTime) {
            const deltaTime = (currentTime - lastTime) / 16.67; 
            lastTime = currentTime;
            
            if (activePickaxe) {
                const isActive = activePickaxe.update(Math.min(deltaTime, 3)); 
                smoothCameraFollow(); 
                
                if (!isActive || activePickaxe.isBroken) {
                     activePickaxe = null;
                     pickaxeElement.style.display = 'none';
                     if (!activePickaxe.isBroken) {
                        messageElement.textContent = "–ö–∏—Ä–∫–∞ –∑–∞–≤–µ—Ä—à–∏–ª–∞ —Å–≤–æ–π –ø–æ–ª—ë—Ç. –ö—É–ø–∏—Ç–µ –Ω–æ–≤—É—é.";
                     }
                }
            }

            checkAndGenerateNewRows(); 
            
            requestAnimationFrame(gameLoop);
        }

        // –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –±–ª–æ–∫–æ–≤ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –≥–ª—É–±–∏–Ω—ã
        function getBlockTypeByDepth(row) {
             const depth = row - EMPTY_START_ROWS; // –†–µ–∞–ª—å–Ω–∞—è –≥–ª—É–±–∏–Ω–∞ —à–∞—Ö—Ç—ã
             
             if (depth < 0) return 'empty'; // –ü—É—Å—Ç—ã–µ —Å—Ç–∞—Ä—Ç–æ–≤—ã–µ —Ä—è–¥—ã
             
             if (depth < 10) return Math.random() < 0.8 ? 'dirt' : 'stone';
             if (depth < 30) return Math.random() < 0.7 ? 'stone' : 'coal';
             if (depth < 60) {
                 const rand = Math.random();
                 if (rand < 0.6) return 'stone';
                 if (rand < 0.8) return 'iron';
                 return 'gold';
             }
             const rand = Math.random();
             if (rand < 0.4) return 'stone';
             if (rand < 0.6) return 'iron';
             if (rand < 0.75) return 'gold';
             if (rand < 0.9) return 'diamond';
             return 'emerald';
        }

        function generateRows(startRow, count) {
            for (let r = startRow; r < startRow + count; r++) {
                const blockType = getBlockTypeByDepth(r);

                // –õ–µ–≤–∞—è —Å—Ç–µ–Ω–∞
                const wallLeft = document.createElement('div');
                wallLeft.className = 'wall left';
                arena.appendChild(wallLeft);
                
                for (let c = 0; c < ARENA_WIDTH_BLOCKS; c++) {
                    const block = document.createElement('div');
                    
                    block.dataset.row = r;
                    block.dataset.col = c;
                    block.dataset.type = blockType; // –°–æ—Ö—Ä–∞–Ω—è–µ–º —Ç–∏–ø –±–ª–æ–∫–∞
                    
                    if (blockType === 'empty') {
                        // –°–∫—Ä—ã–≤–∞–µ–º –±–ª–æ–∫–∏ –≤ –ø—É—Å—Ç—ã—Ö —Å—Ç–∞—Ä—Ç–æ–≤—ã—Ö —Ä—è–¥–∞—Ö
                        block.className = 'block block-dirt mined'; 
                    } else {
                        block.className = `block block-${blockType}`;
                        block.textContent = blockType.toUpperCase();
                    }
                    
                    arena.appendChild(block);
                }
                
                // –ü—Ä–∞–≤–∞—è —Å—Ç–µ–Ω–∞
                const wallRight = document.createElement('div');
                wallRight.className = 'wall right';
                arena.appendChild(wallRight);
            }
            totalRows += count;
        }
        
        function generateInitialArena(emptyRows, miningRows) {
            // –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º —Å–Ω–∞—á–∞–ª–∞ –ø—É—Å—Ç—ã–µ —Ä—è–¥—ã
            generateRows(0, emptyRows); 
            // –ó–∞—Ç–µ–º –≥–µ–Ω–µ—Ä–∏—Ä—É–µ–º —Ä—è–¥—ã —Å –±–ª–æ–∫–∞–º–∏
            generateRows(emptyRows, miningRows); 

            // –°–º–µ—â–∞–µ–º –∫–∞–º–µ—Ä—É –Ω–µ–º–Ω–æ–≥–æ –≤–Ω–∏–∑, —á—Ç–æ–±—ã –≤–∏–¥–µ—Ç—å –Ω–∞—á–∞–ª–æ –±–ª–æ–∫–æ–≤
            gameContainer.scrollTop = (emptyRows - 5) * BLOCK_SIZE_PX; 
        }
        
        // --- 5. –õ–æ–≥–∏–∫–∞ –ö–Ω–æ–ø–æ–∫ –∏ –ó–∞–ø—É—Å–∫ ---
        
        document.querySelectorAll('.pickaxe-button').forEach(button => {
            button.addEventListener('click', () => {
                if (activePickaxe) {
                    messageElement.textContent = 'üõë –î–æ–∂–¥–∏—Ç–µ—Å—å, –ø–æ–∫–∞ –∫–∏—Ä–∫–∞ –∑–∞–≤–µ—Ä—à–∏—Ç –±—Ä–æ—Å–æ–∫!';
                    return;
                }
                
                const price = parseInt(button.dataset.price);
                const type = button.dataset.type;
                
                if (playerBalance >= price) {
                    playerBalance -= price;
                    balanceElement.textContent = playerBalance;
                    
                    activePickaxe = new Pickaxe(type);
                    messageElement.textContent = `üöÄ ${PICKAXE_PROPERTIES[type].name} –∑–∞–ø—É—â–µ–Ω–∞!`;
                } else {
                    messageElement.textContent = `üö´ –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Å—Ä–µ–¥—Å—Ç–≤ (${price - playerBalance} –Ω–µ —Ö–≤–∞—Ç–∞–µ—Ç).`;
                }
            });
        });
        
        // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –Ω–∞—á–∞–ª—å–Ω—ã–π –±–∞–ª–∞–Ω—Å
        balanceElement.textContent = playerBalance;
        
        // –ó–∞–ø—É—Å–∫
        generateInitialArena(EMPTY_START_ROWS, INITIAL_MINING_ROWS); 
        requestAnimationFrame(gameLoop); 
    </script>
</body>
</html>
