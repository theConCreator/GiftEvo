<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Gift Evolution</title>
<style>
  html, body {
    margin: 0;
    padding: 0;
    height: 100%;
    background: radial-gradient(circle at center, #0a0a0a, #000);
    font-family: "Inter", sans-serif;
    color: #fff;
    overflow: hidden;
    display: flex;
    justify-content: center;
    align-items: center;
  }

  .app-container {
    width: 430px;
    height: 720px;
    background: linear-gradient(180deg, #121212, #1d1d1d);
    border-radius: 20px;
    box-shadow: 0 0 30px rgba(232, 67, 147, 0.3);
    display: flex;
    flex-direction: column;
    overflow: hidden;
    position: relative;
  }

  .screen {
    flex: 1;
    display: none;
    flex-direction: column;
    padding: 16px;
  }

  .screen.active {
    display: flex;
  }

  .top-bar {
    display: flex;
    justify-content: space-between;
    align-items: center;
    font-weight: 600;
    font-size: 18px;
    margin-bottom: 10px;
  }

  .balance {
    background: rgba(255, 255, 255, 0.1);
    padding: 6px 12px;
    border-radius: 12px;
  }

  .main-content {
    flex: 1;
    display: flex;
    justify-content: space-between;
    align-items: flex-end;
    position: relative;
  }

  .gift-list {
    position: absolute;
    right: 10px;
    bottom: 100px;
    display: flex;
    flex-direction: column;
    gap: 14px;
    align-items: flex-end;
  }

  .gift-card {
    width: 100px;
    height: 100px;
    border-radius: 16px;
    background: rgba(255, 255, 255, 0.05);
    border: 1px solid rgba(255, 255, 255, 0.2);
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    transition: 0.3s;
    position: relative;
    cursor: pointer;
  }

  .gift-card:hover {
    transform: scale(1.05);
    box-shadow: 0 0 15px rgba(232, 67, 147, 0.3);
  }

  .gift-icon {
    font-size: 40px;
  }

  .gift-btn {
    margin-top: 6px;
    width: 90%;
    padding: 6px;
    font-size: 13px;
    border: none;
    border-radius: 10px;
    background: #e84393;
    color: white;
    cursor: pointer;
    transition: 0.3s;
  }

  .gift-btn:hover {
    background: #ff5fa3;
  }

  .gift-btn.disabled {
    opacity: 0.5;
    cursor: default;
  }

  .effects-bar {
    position: absolute;
    bottom: 60px;
    left: 10px;
    display: flex;
    flex-wrap: wrap;
    gap: 10px;
    width: 240px;
  }

  .effect-card {
    flex: 1 1 calc(50% - 10px);
    background: rgba(255, 255, 255, 0.08);
    border: 1px solid rgba(255, 255, 255, 0.15);
    border-radius: 12px;
    padding: 8px;
    text-align: center;
    cursor: pointer;
    transition: 0.25s;
    font-size: 14px;
  }

  .effect-card:hover {
    background: rgba(255, 255, 255, 0.12);
    transform: translateY(-2px);
  }

  .effect-card.selected {
    border-color: #e84393;
    box-shadow: 0 0 12px #e84393;
  }

  .combine-btn {
    position: absolute;
    bottom: 10px;
    left: 50%;
    transform: translateX(-50%);
    width: 200px;
    padding: 12px;
    font-size: 18px;
    background: #e84393;
    border: none;
    border-radius: 12px;
    cursor: pointer;
    transition: 0.3s;
  }

  .combine-btn:disabled {
    opacity: 0.5;
    cursor: not-allowed;
  }

  .bottom-nav {
    display: flex;
    justify-content: space-around;
    background: rgba(20, 20, 20, 0.95);
    border-top: 1px solid rgba(255, 255, 255, 0.1);
  }

  .nav-btn {
    flex: 1;
    text-align: center;
    padding: 12px 0;
    color: #aaa;
    cursor: pointer;
    transition: 0.3s;
    font-size: 16px;
  }

  .nav-btn.active {
    color: #e84393;
    font-weight: 600;
  }

  .inventory-list {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 14px;
    padding: 10px;
  }

  .inventory-card {
    background: rgba(255, 255, 255, 0.05);
    border: 1px solid rgba(255, 255, 255, 0.2);
    border-radius: 12px;
    padding: 12px;
    text-align: center;
    transition: 0.3s;
  }

  .inventory-card:hover {
    transform: scale(1.05);
    box-shadow: 0 0 10px rgba(255, 255, 255, 0.15);
  }

  .fusion-overlay {
    position: fixed;
    inset: 0;
    background: rgba(0, 0, 0, 0.7);
    display: flex;
    justify-content: center;
    align-items: center;
    z-index: 100;
  }

  .fusion-glow {
    position: absolute;
    width: 400px;
    height: 400px;
    border-radius: 50%;
    filter: blur(120px);
    opacity: 0.8;
    animation: pulse 1.3s ease-in-out infinite alternate;
  }

  @keyframes pulse {
    from {
      transform: scale(0.9);
      opacity: 0.5;
    }
    to {
      transform: scale(1.1);
      opacity: 1;
    }
  }

  .result-modal {
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    background: rgba(30, 30, 30, 0.95);
    border: 2px solid #e84393;
    border-radius: 16px;
    padding: 24px;
    text-align: center;
    z-index: 101;
    width: 260px;
    box-shadow: 0 0 20px rgba(232, 67, 147, 0.4);
    animation: pop 0.3s ease-out;
  }

  @keyframes pop {
    from {
      transform: translate(-50%, -50%) scale(0.8);
      opacity: 0;
    }
    to {
      transform: translate(-50%, -50%) scale(1);
      opacity: 1;
    }
  }
</style>
</head>
<body>
<div id="root"></div>

<script src="https://unpkg.com/react@18/umd/react.development.js"></script>
<script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
<script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

<script type="text/babel">
const { useState, useEffect } = React;

const GIFT_MODELS = [
  { id: 1, icon: "üéÅ" },
  { id: 2, icon: "üéÄ" },
  { id: 3, icon: "ü™Ñ" },
  { id: 4, icon: "üß∏" },
  { id: 5, icon: "üõçÔ∏è" },
];

const EFFECTS = [
  { name: "–û–≥–æ–Ω—å", icon: "üî•", price: 75, color: "#ff4500" },
  { name: "–ú–æ–ª–Ω–∏—è", icon: "‚ö°", price: 100, color: "#ffd700" },
  { name: "–ö—Ä–æ–≤—å", icon: "ü©∏", price: 125, color: "#8b0000" },
  { name: "–ß—ë—Ä–Ω—ã–π", icon: "‚ö´", price: 200, color: "#4b0082" },
  { name: "–ó–æ–ª–æ—Ç–æ", icon: "ü™ô", price: 250, color: "#ffd700" },
  { name: "Pepe", icon: "üê∏", price: 500, color: "#32cd32" },
];

function App() {
  const [screen, setScreen] = useState("main");
  const [inventory, setInventory] = useState([]);
  const [balance, setBalance] = useState(1000);
  const [selectedGift, setSelectedGift] = useState(null);
  const [selectedEffect, setSelectedEffect] = useState(null);
  const [showFusion, setShowFusion] = useState(false);
  const [result, setResult] = useState(null);

  const countGift = (gift) =>
    inventory.filter((g) => g.model === gift.icon && !g.effect).length;

  const handleBuyGift = (gift) => {
    if (balance < 100) return alert("–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –∑–≤—ë–∑–¥!");
    setBalance((b) => b - 100);
    setInventory((prev) => [...prev, { model: gift.icon }]);
  };

  const handleCombine = () => {
    if (!selectedGift || !selectedEffect) return;
    setShowFusion(true);
    setTimeout(() => {
      setShowFusion(false);
      const isRare = Math.random() < 0.2;
      const giftResult = {
        model: selectedGift.icon,
        effect: selectedEffect,
        rare: isRare,
      };
      setResult(giftResult);
      setInventory((prev) => [...prev, giftResult]);
    }, 1800);
  };

  return (
    <div className="app-container">
      {/* –ì–ª–∞–≤–Ω—ã–π —ç–∫—Ä–∞–Ω */}
      <div className={`screen ${screen === "main" ? "active" : ""}`}>
        <div className="top-bar">
          <div>Gift Evolution üéÅ</div>
          <div className="balance">‚≠ê {balance}</div>
        </div>

        <div className="main-content">
          {/* –≠—Ñ—Ñ–µ–∫—Ç—ã */}
          <div className="effects-bar">
            {EFFECTS.map((e, i) => (
              <div
                key={i}
                className={`effect-card ${
                  selectedEffect === e ? "selected" : ""
                }`}
                onClick={() => setSelectedEffect(e)}
              >
                {e.icon} {e.name} {e.price}‚≠êÔ∏è
              </div>
            ))}
          </div>

          {/* –ü–æ–¥–∞—Ä–∫–∏ */}
          <div className="gift-list">
            {GIFT_MODELS.map((gift) => {
              const ownedCount = countGift(gift);
              return (
                <div key={gift.id} className="gift-card">
                  <div
                    className="gift-icon"
                    onClick={() => setSelectedGift(gift)}
                  >
                    {gift.icon}
                  </div>
                  <button
                    className="gift-btn"
                    onClick={() =>
                      ownedCount > 0 ? null : handleBuyGift(gift)
                    }
                    disabled={ownedCount > 0}
                  >
                    {ownedCount > 0
                      ? `x${ownedCount}`
                      : "–ö—É–ø–∏—Ç—å üéÅ 100‚≠ê"}
                  </button>
                </div>
              );
            })}
            <div
              className="gift-card"
              style={{
                opacity: 0.3,
                fontSize: "14px",
                justifyContent: "center",
              }}
            >
              Coming soon...
            </div>
          </div>

          {/* –ö–Ω–æ–ø–∫–∞ –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏—è */}
          <button
            className="combine-btn"
            disabled={!(selectedGift && selectedEffect)}
            onClick={handleCombine}
          >
            –û–±—ä–µ–¥–∏–Ω–∏—Ç—å
          </button>
        </div>
      </div>

      {/* –ò–Ω–≤–µ–Ω—Ç–∞—Ä—å */}
      <div className={`screen ${screen === "inventory" ? "active" : ""}`}>
        <div className="top-bar">
          <div>üéí –ò–Ω–≤–µ–Ω—Ç–∞—Ä—å</div>
          <div className="balance">‚≠ê {balance}</div>
        </div>
        <div className="inventory-list">
          {inventory.length === 0 && (
            <p style={{ opacity: 0.7, textAlign: "center" }}>–ü–æ–∫–∞ –ø—É—Å—Ç–æ...</p>
          )}
          {inventory.map((item, i) => (
            <div key={i} className="inventory-card">
              <div style={{ fontSize: "36px" }}>
                {item.model}
                {item.rare ? "üíé" : ""}
              </div>
              {item.effect && (
                <div>
                  {item.effect.icon} {item.effect.name}
                </div>
              )}
            </div>
          ))}
        </div>
      </div>

      {/* –ê–Ω–∏–º–∞—Ü–∏—è –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏—è */}
      {showFusion && <FusionOverlay />}

      {/* –†–µ–∑—É–ª—å—Ç–∞—Ç */}
      {result && <ResultModal result={result} onClose={() => setResult(null)} />}

      {/* –ù–∞–≤–∏–≥–∞—Ü–∏—è */}
      <div className="bottom-nav">
        <div
          className={`nav-btn ${screen === "main" ? "active" : ""}`}
          onClick={() => setScreen("main")}
        >
          –ì–ª–∞–≤–Ω–∞—è
        </div>
        <div
          className={`nav-btn ${screen === "inventory" ? "active" : ""}`}
          onClick={() => setScreen("inventory")}
        >
          –ò–Ω–≤–µ–Ω—Ç–∞—Ä—å
        </div>
      </div>
    </div>
  );
}

function FusionOverlay() {
  return (
    <div className="fusion-overlay">
      <div className="fusion-glow" style={{ background: "#e84393" }}></div>
      <h2>‚ú® –û–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ... ‚ú®</h2>
    </div>
  );
}

function ResultModal({ result, onClose }) {
  return (
    <div className="result-modal" onClick={onClose}>
      <div style={{ fontSize: "48px" }}>
        {result.model}
        {result.rare ? "üíé" : ""}
      </div>
      <h2>
        {result.effect.icon} {result.effect.name}
      </h2>
      <p style={{ opacity: 0.7 }}>–ù–∞–∂–º–∏—Ç–µ, —á—Ç–æ–±—ã –∑–∞–∫—Ä—ã—Ç—å</p>
    </div>
  );
}

ReactDOM.createRoot(document.getElementById("root")).render(<App />);
</script>
</body>
</html>
